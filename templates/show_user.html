{% extends 'base.html' %}


{% block content %}
<form action="/show_user", methods=["GET", "POST"]>

<h2>User Information:</h2>
<ul>
  {% for user in users %}
    <li>
      <a href="show_user/{{ user.user_id }}">
        {{ user.email}} ({{user.user_id}})
      </a>
    </li>
  {% endfor %} 
</ul>
</form>

  <ul class="breadcrumb">
    <li>  <a href="show_user/{{ user.user_id }}">
        {{ user.email}} ({{user.user_id}})</a> <span class="divider">/</span></li>
    <li class="active">{{ user.fname() }} - {{ user.lname }}</li>
  </ul>
  
  <div class="show-user-information">

    <div class="header">User Details</div>
      <div class="fields">

        First Name: {{ fname }} 
        Last Name: {{ lname }} 
        Email Address: {{ email }} 
        User Since: {{ created_date }}
        Address Line 1: {{ address1 }}
        Address Line 2: {{ address2 }}
        City: {{ city }}
        State: {{ state }}
        Zipcode: {{ zipcode }}

        Detailed User Information for Administration Only:
        <!--create this in model to be imported here 5/17/17-->
        <!-- Employee/Staff: {{ is_Staff }} -->
        Job Title: {{ job_title }}
        Department: {{ department }}
        Birthday: {{ birthdate }}

        <!-- User Status: {{ active }} -->
        User Since: {{ created_at }}
        <!-- User Last Modified: {{ datetime.ts }} -->

        RoleID/Permissions: {{ Role_ID }}

        <div class="field">
          <button class="btn btn-primary" type="submit">Update User</button>
          <a class="btn btn-danger pull-right" type="button" href="{{ url_for('.delete', id=user.id) }}">Delete</a>
        </div>

      </div>
    </div>
    
    {% for invoice in invoices %}
      <tr data-id="{{ invoice.id }}">
       {% if invoices|length > 0 %}
        <h4>Invoices</h4>
          <table class='table table-striped table-hover data-list'>
            <thead class='data-list-header'></thead>
            <tbody>
              <tr>
                <th class="col due">{{ invoice.due_date.strftime('%d %B %Y') }}</th>
                <th class="col ref">{{ invoice.invoice_number }}</th>
                <th class="col name">{{ invoice.user.fname }} {{ invoice.user.lname }}</th>
                <th class="col total"><span class='currency-code'>{{ invoice.currency_code }}</span> {{ invoice.total|format_currency }}</th>
                <th class="col status"><span class='label label-{{ invoice.get_status() }}'>{{ invoice.confirm_invoice() }}</span></th>
              </tr>
            </tbody>
          </table>
      </tr>
    {% endfor %}
  </div>  
      
{% endblock %}
